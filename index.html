<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Êï∞ÊçÆÂõæ‰ª∂Âà∂‰ΩúÂ∑•ÂÖ∑</title>
    <meta name="description" content="Âú®Á∫øÊï∞ÊçÆÂèØËßÜÂåñÂ∑•ÂÖ∑ÔºåÊîØÊåÅÂ§öÁßçÊï∞ÊçÆÊ†ºÂºèÂíåÂõæË°®Á±ªÂûãÔºåÂø´ÈÄüÁîüÊàêÈ´òË¥®ÈáèÂõæË°®">
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Noto+Sans+SC:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    <!-- ECharts -->
    <script src="https://cdn.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script>
    <!-- Papa Parse (CSV) -->
    <script src="https://cdn.jsdelivr.net/npm/papaparse@5/papaparse.min.js"></script>
    <!-- SheetJS (Excel) -->
    <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>
    <link rel="stylesheet" href="index.css">
</head>

<body>
    <!-- È°∂ÈÉ®ÂØºËà™ -->
    <header class="navbar">
        <div class="navbar-brand">
            <span class="logo-icon">üìä</span>
            <h1>Êï∞ÊçÆÂõæ‰ª∂Âà∂‰ΩúÂ∑•ÂÖ∑</h1>
        </div>
        <div class="navbar-actions">
            <button id="themeToggle" class="btn btn-icon" title="ÂàáÊç¢‰∏ªÈ¢ò">üåô</button>
        </div>
    </header>

    <!-- ‰∏ªÂÜÖÂÆπÂå∫ -->
    <main class="app-layout">
        <!-- Â∑¶‰æßÊéßÂà∂Èù¢Êùø -->
        <aside class="sidebar" id="sidebar">
            <!-- Êñá‰ª∂‰∏ä‰º† -->
            <section class="panel" id="uploadPanel">
                <h2 class="panel-title">
                    <span class="panel-icon">üìÅ</span>
                    Êï∞ÊçÆÂØºÂÖ•
                    <button class="panel-toggle" data-panel="uploadContent">‚ñæ</button>
                </h2>
                <div class="panel-content" id="uploadContent">
                    <div class="upload-zone" id="uploadZone">
                        <div class="upload-icon">‚¨ÜÔ∏è</div>
                        <p class="upload-text">ÊãñÊãΩÊñá‰ª∂Âà∞Ê≠§Â§Ñ</p>
                        <p class="upload-hint">ÊàñÁÇπÂáªÈÄâÊã©Êñá‰ª∂</p>
                        <p class="upload-formats">ÊîØÊåÅ CSV / Excel / TXT / JSON</p>
                        <input type="file" id="fileInput" accept=".csv,.xlsx,.xls,.tsv,.txt,.json" hidden>
                    </div>
                    <div class="file-info" id="fileInfo" style="display:none;">
                        <span class="file-name" id="fileName"></span>
                        <button class="btn btn-sm btn-danger" id="clearFile">‚úï</button>
                    </div>
                </div>
            </section>

            <!-- Êï∞ÊçÆÈ¢ÑËßà -->
            <section class="panel" id="previewPanel" style="display:none;">
                <h2 class="panel-title">
                    <span class="panel-icon">üìã</span>
                    Êï∞ÊçÆÈ¢ÑËßà
                    <button class="panel-toggle" data-panel="previewContent">‚ñæ</button>
                </h2>
                <div class="panel-content" id="previewContent">
                    <div style="margin-bottom: 8px; text-align: right;">
                        <button class="btn btn-sm" id="transposeDataBtn" title="‰∫§Êç¢Ë°åÂíåÂàó"
                            style="background:var(--bg-tertiary);border:1px solid var(--border-color);padding:2px 8px;font-size:12px;cursor:pointer;">üîÑ
                            ËΩ¨ÁΩÆÊï∞ÊçÆ</button>
                    </div>
                    <div class="table-wrapper" id="dataPreview"></div>
                </div>
            </section>

            <!-- ÂõæË°®Á±ªÂûã -->
            <section class="panel" id="chartTypePanel" style="display:none;">
                <h2 class="panel-title">
                    <span class="panel-icon">üìà</span>
                    ÂõæË°®Á±ªÂûã
                    <button class="panel-toggle" data-panel="chartTypeContent">‚ñæ</button>
                </h2>
                <div class="panel-content" id="chartTypeContent">
                    <div class="chart-type-grid" id="chartTypeGrid">
                        <button class="chart-type-card active" data-type="line">
                            <span class="chart-type-icon">üìà</span>
                            <span class="chart-type-label">ÊäòÁ∫øÂõæ</span>
                        </button>
                        <button class="chart-type-card" data-type="bar">
                            <span class="chart-type-icon">üìä</span>
                            <span class="chart-type-label">Êü±Áä∂Âõæ</span>
                        </button>
                        <button class="chart-type-card" data-type="scatter">
                            <span class="chart-type-icon">üîµ</span>
                            <span class="chart-type-label">Êï£ÁÇπÂõæ</span>
                        </button>
                        <button class="chart-type-card" data-type="pie">
                            <span class="chart-type-icon">ü•ß</span>
                            <span class="chart-type-label">È•ºÂõæ</span>
                        </button>
                        <button class="chart-type-card" data-type="heatmap">
                            <span class="chart-type-icon">üî•</span>
                            <span class="chart-type-label">ÁÉ≠ÂäõÂõæ</span>
                        </button>
                        <button class="chart-type-card" data-type="boxplot">
                            <span class="chart-type-icon">üì¶</span>
                            <span class="chart-type-label">ÁÆ±Á∫øÂõæ</span>
                        </button>
                    </div>
                </div>
            </section>

            <!-- Êï∞ÊçÆÊò†Â∞Ñ -->
            <section class="panel" id="dataMappingPanel" style="display:none;">
                <h2 class="panel-title">
                    <span class="panel-icon">üîó</span>
                    Êï∞ÊçÆÊò†Â∞Ñ
                    <button class="panel-toggle" data-panel="dataMappingContent">‚ñæ</button>
                </h2>
                <div class="panel-content" id="dataMappingContent">
                    <div class="form-group">
                        <label class="form-label">X ËΩ¥Êï∞ÊçÆÂàó</label>
                        <select class="form-select" id="xColumn"></select>
                    </div>
                    <div class="form-group" id="yColumnGroup">
                        <label class="form-label">Y ËΩ¥Êï∞ÊçÆÂàó <span class="hint">ÔºàÂèØÂ§öÈÄâÔºâ</span></label>
                        <div class="checkbox-group" id="yColumns"></div>
                    </div>
                    <div class="form-group" id="valueColumnGroup" style="display:none;">
                        <label class="form-label">Êï∞ÂÄºÂàó</label>
                        <select class="form-select" id="valueColumn"></select>
                    </div>
                    <div class="form-group" id="labelColumnGroup" style="display:none;">
                        <label class="form-label">Ê†áÁ≠æÂàó</label>
                        <select class="form-select" id="labelColumn"></select>
                    </div>
                </div>
            </section>

            <!-- Ê†∑ÂºèËÆæÁΩÆ -->
            <section class="panel" id="stylePanel" style="display:none;">
                <h2 class="panel-title">
                    <span class="panel-icon">üé®</span>
                    Ê†∑ÂºèËÆæÁΩÆ
                    <button class="panel-toggle" data-panel="styleContent">‚ñæ</button>
                </h2>
                <div class="panel-content" id="styleContent">
                    <div class="form-group">
                        <label class="form-label">ÂõæË°®Ê†áÈ¢ò</label>
                        <input type="text" class="form-input" id="chartTitle" placeholder="ËØ∑ËæìÂÖ•ÂõæË°®Ê†áÈ¢ò">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Â≠ó‰Ωì</label>
                        <select class="form-select" id="fontFamily">
                            <option value="Arial">Arial</option>
                            <option value="Times New Roman">Times New Roman</option>
                            <option value="Helvetica">Helvetica</option>
                            <option value="Georgia">Georgia</option>
                            <option value="Palatino">Palatino</option>
                            <option value="Calibri">Calibri</option>
                            <option value="Noto Sans SC">ÊÄùÊ∫êÈªë‰Ωì</option>
                            <option value="SimSun">ÂÆã‰Ωì</option>
                            <option value="Microsoft YaHei">ÂæÆËΩØÈõÖÈªë</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Ê†áÈ¢òÂ≠óÂè∑</label>
                        <input type="range" class="form-range" id="titleFontSize" min="10" max="28" value="14">
                        <span class="range-value" id="titleFontSizeValue">14px</span>
                    </div>
                    <div class="form-group" id="xAxisNameGroup">
                        <label class="form-label">X ËΩ¥ÂêçÁß∞</label>
                        <input type="text" class="form-input" id="xAxisName" placeholder="X ËΩ¥ÂêçÁß∞">
                    </div>
                    <div class="form-group" id="yAxisNameGroup">
                        <label class="form-label">Y ËΩ¥ÂêçÁß∞</label>
                        <input type="text" class="form-input" id="yAxisName" placeholder="Y ËΩ¥ÂêçÁß∞">
                    </div>
                    <div class="form-group">
                        <label class="form-label">ÂùêÊ†áËΩ¥Â≠óÂè∑</label>
                        <input type="range" class="form-range" id="axisFontSize" min="8" max="20" value="12">
                        <span class="range-value" id="axisFontSizeValue">12px</span>
                    </div>
                    <div class="form-group">
                        <label class="form-label">ËΩ¥ÂêçÁß∞Â≠óÂè∑</label>
                        <input type="range" class="form-range" id="axisNameFontSize" min="10" max="22" value="14">
                        <span class="range-value" id="axisNameFontSizeValue">14px</span>
                    </div>
                    <div class="form-group">
                        <label class="form-label">ÈÖçËâ≤ÊñπÊ°à</label>
                        <div class="color-scheme-grid" id="colorSchemeGrid">
                            <button class="color-scheme-btn active" data-scheme="nature">
                                <span class="color-dots">
                                    <i style="background:#E64B35"></i><i style="background:#4DBBD5"></i><i
                                        style="background:#00A087"></i><i style="background:#3C5488"></i>
                                </span>
                                <span>Nature</span>
                            </button>
                            <button class="color-scheme-btn" data-scheme="science">
                                <span class="color-dots">
                                    <i style="background:#3B4992"></i><i style="background:#EE0000"></i><i
                                        style="background:#008B45"></i><i style="background:#631879"></i>
                                </span>
                                <span>Science</span>
                            </button>
                            <button class="color-scheme-btn" data-scheme="lancet">
                                <span class="color-dots">
                                    <i style="background:#00468B"></i><i style="background:#ED0000"></i><i
                                        style="background:#42B540"></i><i style="background:#0099B4"></i>
                                </span>
                                <span>Lancet</span>
                            </button>
                            <button class="color-scheme-btn" data-scheme="jama">
                                <span class="color-dots">
                                    <i style="background:#374E55"></i><i style="background:#DF8F44"></i><i
                                        style="background:#00A1D5"></i><i style="background:#B24745"></i>
                                </span>
                                <span>JAMA</span>
                            </button>
                            <button class="color-scheme-btn" data-scheme="default">
                                <span class="color-dots">
                                    <i style="background:#5470c6"></i><i style="background:#91cc75"></i><i
                                        style="background:#fac858"></i><i style="background:#ee6666"></i>
                                </span>
                                <span>ÁªèÂÖ∏</span>
                            </button>
                            <button class="color-scheme-btn" data-scheme="academic">
                                <span class="color-dots">
                                    <i style="background:#2c3e50"></i><i style="background:#3498db"></i><i
                                        style="background:#e74c3c"></i><i style="background:#27ae60"></i>
                                </span>
                                <span>Â≠¶ÊúØ</span>
                            </button>
                            <button class="color-scheme-btn" data-scheme="vibrant">
                                <span class="color-dots">
                                    <i style="background:#ff6b6b"></i><i style="background:#4ecdc4"></i><i
                                        style="background:#ffe66d"></i><i style="background:#a855f7"></i>
                                </span>
                                <span>Ê¥ªÂäõ</span>
                            </button>
                            <button class="color-scheme-btn" data-scheme="pastel">
                                <span class="color-dots">
                                    <i style="background:#a8d8ea"></i><i style="background:#aa96da"></i><i
                                        style="background:#fcbad3"></i><i style="background:#ffffd2"></i>
                                </span>
                                <span>ÊüîÂíå</span>
                            </button>
                            <button class="color-scheme-btn" data-scheme="earth">
                                <span class="color-dots">
                                    <i style="background:#8B4513"></i><i style="background:#D2691E"></i><i
                                        style="background:#DAA520"></i><i style="background:#556B2F"></i>
                                </span>
                                <span>Â§ßÂú∞</span>
                            </button>
                            <button class="color-scheme-btn" data-scheme="ocean">
                                <span class="color-dots">
                                    <i style="background:#006994"></i><i style="background:#0099cc"></i><i
                                        style="background:#40bfb0"></i><i style="background:#87ceeb"></i>
                                </span>
                                <span>Êµ∑Ê¥ã</span>
                            </button>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">ÊòæÁ§∫Âõæ‰æã</label>
                        <label class="toggle-switch">
                            <input type="checkbox" id="showLegend" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                    <div class="form-group">
                        <label class="form-label">ÊòæÁ§∫ÁΩëÊ†ºÁ∫ø</label>
                        <label class="toggle-switch">
                            <input type="checkbox" id="showGrid">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Âπ≥ÊªëÊõ≤Á∫ø</label>
                        <label class="toggle-switch">
                            <input type="checkbox" id="smoothLine">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                    <div class="form-group">
                        <label class="form-label">ÊòæÁ§∫Êï∞ÊçÆÊ†áÁ≠æ</label>
                        <label class="toggle-switch">
                            <input type="checkbox" id="showDataLabel">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                </div>
            </section>

            <!-- ÂØºÂá∫ -->
            <section class="panel" id="exportPanel" style="display:none;">
                <h2 class="panel-title">
                    <span class="panel-icon">üíæ</span>
                    ÂØºÂá∫
                </h2>
                <div class="panel-content">
                    <div class="export-buttons">
                        <button class="btn btn-primary" id="exportPNG">ÂØºÂá∫ PNG</button>
                        <button class="btn btn-secondary" id="exportSVG">ÂØºÂá∫ SVG</button>
                    </div>
                </div>
            </section>
        </aside>

        <!-- Âè≥‰æßÂõæË°®Âå∫Âüü -->
        <section class="chart-area">
            <div class="chart-placeholder" id="chartPlaceholder">
                <div class="placeholder-content">
                    <span class="placeholder-icon">üìä</span>
                    <h2>ÂºÄÂßãÂà∂‰ΩúÂõæË°®</h2>
                    <p>‰ªéÂ∑¶‰æß‰∏ä‰º†Êï∞ÊçÆÊñá‰ª∂ÔºåÈÄâÊã©ÂõæË°®Á±ªÂûãÂç≥ÂèØÁîüÊàêÂõæË°®</p>
                </div>
            </div>
            <div class="chart-container" id="chartContainer" style="display:none;">
                <div id="chart"></div>
            </div>
        </section>
    </main>

    <!-- Áä∂ÊÄÅÊ†è -->
    <footer class="statusbar">
        <span id="statusText">Â∞±Áª™</span>
        <span id="dataInfo"></span>
    </footer>

    <script type="module" src="src/main.js"></script>
</body>

</html>